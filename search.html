<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <title>‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà - ‡πô ‡∏≠‡∏≠‡πÇ‡∏ï‡πâ ‡∏Å‡∏≤‡∏£‡∏≤‡∏à</title>
    <link href="[https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap](https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap)" rel="stylesheet">
    <link rel="stylesheet" href="[https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css](https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css)">
    <style>
        :root { --bg: #f0f2f5; --primary: #1a1a1a; --accent: #ff3b30; --text: #333; --card-bg: #fff; }
        body { font-family: 'Kanit', sans-serif; background-color: var(--bg); color: var(--text); padding: 15px; margin: 0; }
        .container { max-width: 600px; margin: 0 auto; }
        
        /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ */
        .search-box { background: var(--card-bg); padding: 15px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 10px; z-index: 100; margin-bottom: 20px; }
        .search-input-wrapper { position: relative; }
        .search-input-wrapper i { position: absolute; left: 15px; top: 14px; color: #888; }
        input[type="text"], input[type="number"], select { width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 8px; font-family: 'Kanit', sans-serif; font-size: 16px; box-sizing: border-box; background: #f9f9f9; }
        .search-input-wrapper input { padding-left: 40px; }
        input:focus, select:focus { outline: none; border-color: var(--accent); background: #fff; }
        
        /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÇ‡∏ä‡∏ß‡πå‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ */
        #loading { text-align: center; padding: 20px; color: #666; font-size: 14px; }
        .item-card { background: var(--card-bg); padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); margin-bottom: 15px; border-top: 4px solid var(--accent); }
        .item-title { font-weight: 600; font-size: 17px; color: var(--primary); margin: 0 0 8px 0; line-height: 1.3; }
        .item-model { font-size: 13px; color: #c62828; background: #ffebee; border: 1px solid #ffcdd2; padding: 4px 10px; border-radius: 20px; font-weight: 500; display: inline-block; margin-bottom: 5px;}
        .item-category { font-size: 12px; color: #666; background: #eee; padding: 3px 8px; border-radius: 5px; margin-left: 5px; }
        
        .price-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px; padding-top: 15px; border-top: 1px dashed #eee; }
        .price-box { background: #f8f9fa; padding: 10px; border-radius: 8px; text-align: center; }
        .price-label { font-size: 12px; color: #888; display: block; margin-bottom: 4px; }
        .cost-price { font-weight: 500; color: #ff9800; font-size: 16px; }
        .sell-price { font-weight: 700; color: #28a745; font-size: 20px; }
        
        .item-footer { display: flex; justify-content: space-between; align-items: center; font-size: 12px; color: #888; margin-top: 12px; padding-top: 10px; border-top: 1px solid #f0f0f0; }
        .btn-edit { background: #1a1a1a; color: #fff; border: none; padding: 6px 14px; border-radius: 6px; cursor: pointer; font-family: 'Kanit', sans-serif; font-size: 13px; font-weight: 500; transition: 0.2s; }
        .btn-edit:active { transform: scale(0.95); background: #333; }
        .btn-edit i { margin-right: 4px; }

        /* ================= ‡∏õ‡πä‡∏≠‡∏õ‡∏≠‡∏±‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Modal) ================= */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); backdrop-filter: blur(3px); }
        .modal-content { background-color: #fff; margin: 10vh auto; padding: 20px; border-radius: 16px; width: 90%; max-width: 450px; max-height: 80vh; overflow-y: auto; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .modal-header h3 { margin: 0; color: var(--primary); font-size: 18px; }
        .close-btn { color: #aaa; font-size: 24px; font-weight: bold; cursor: pointer; line-height: 1; }
        .close-btn:hover { color: #000; }
        
        .form-group { margin-bottom: 12px; }
        .form-group label { display: block; font-size: 13px; font-weight: 500; color: #555; margin-bottom: 4px; }
        
        .modal-actions { display: flex; gap: 10px; margin-top: 20px; }
        .btn-save { flex: 2; background: var(--accent); color: white; border: none; padding: 12px; border-radius: 8px; font-family: 'Kanit'; font-weight: 600; font-size: 15px; cursor: pointer; }
        .btn-cancel { flex: 1; background: #ddd; color: #333; border: none; padding: 12px; border-radius: 8px; font-family: 'Kanit'; font-weight: 500; font-size: 15px; cursor: pointer; }
        .btn-delete { flex: 1; background: #fff; color: #dc3545; border: 1px solid #dc3545; padding: 12px; border-radius: 8px; font-family: 'Kanit'; font-weight: 500; font-size: 15px; cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <div class="search-box">
        <div class="search-input-wrapper">
            <i class="fas fa-search"></i>
            <input type="text" id="searchInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà ‡∏´‡∏£‡∏∑‡∏≠ ‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ..." onkeyup="filterItems()">
        </div>
    </div>

    <div id="loading"><i class="fas fa-spinner fa-spin"></i> ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô...</div>
    <div id="resultsList"></div>
</div>

<div id="editModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-edit"></i> ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
            <span class="close-btn" onclick="closeModal()">&times;</span>
        </div>
        
        <input type="hidden" id="edit-id">
        
        <div class="form-group">
            <label>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label>
            <input type="text" id="edit-category">
        </div>
        <div class="form-group">
            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ / ‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà</label>
            <input type="text" id="edit-name">
        </div>
        <div class="form-group">
            <label>‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ</label>
            <input type="text" id="edit-model">
        </div>
        <div class="form-group">
            <label>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡∏î‡∏¥‡∏ö (‡∏ö‡∏≤‡∏ó)</label>
            <input type="number" id="edit-cost">
        </div>
        <div class="form-group">
            <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏£‡∏≤‡∏Ñ‡∏≤</label>
            <select id="edit-priceType">
                <option value="‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏ß‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏π‡πà">‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏ß‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏π‡πà</option>
                <option value="‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ô‡πá‡∏ï‡πÅ‡∏•‡πâ‡∏ß">‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ô‡πá‡∏ï‡πÅ‡∏•‡πâ‡∏ß</option>
            </select>
        </div>
        <div class="form-group">
            <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</label>
            <select id="edit-status">
                <option value="‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥">‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥ / ‡πÄ‡∏ö‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢</option>
                <option value="‡∏™‡∏±‡πà‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå (‡∏£‡∏≠‡∏Ç‡∏≠‡∏á)">‡∏™‡∏±‡πà‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå (‡∏£‡∏≠‡∏Ç‡∏≠‡∏á)</option>
                <option value="‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô">‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ï‡πä‡∏≠‡∏Å‡∏Å‡πà‡∏≠‡∏ô</option>
            </select>
        </div>

        <div class="modal-actions">
            <button class="btn-save" id="btnSave" onclick="saveEdit()"><i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            <button class="btn-delete" id="btnDelete" onclick="deleteItem()"><i class="fas fa-trash"></i> ‡∏•‡∏ö</button>
        </div>
    </div>
</div>

<script>
    // üî¥ API ‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß üî¥
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyufJqFMSR44T80FbChVOJofZ7KYbvq1f5LHz-u_0HNPFtU8GTK78hcyTmG513TqJGg1Q/exec"; 
    
    let allItems = []; 

    // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤
    fetch(GOOGLE_SCRIPT_URL)
        .then(response => response.json())
        .then(data => {
            if(data.status === 'success') {
                allItems = data.data;
                document.getElementById('loading').style.display = 'none';
                renderItems(allItems); 
            }
        })
        .catch(error => {
            document.getElementById('loading').innerHTML = "‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä";
        });

    function filterItems() {
        const searchText = document.getElementById('searchInput').value.toLowerCase();
        const filtered = allItems.filter(item => {
            return item.name.toLowerCase().includes(searchText) || 
                   item.model.toLowerCase().includes(searchText) || 
                   item.category.toLowerCase().includes(searchText);
        });
        renderItems(filtered);
    }

    // ‡∏ß‡∏≤‡∏î‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
    function renderItems(items) {
        const list = document.getElementById('resultsList');
        list.innerHTML = '';
        
        if(items.length === 0) {
            list.innerHTML = '<div style="text-align:center; padding:30px; color:#aaa;"><i class="fas fa-box-open fa-3x" style="margin-bottom:10px; display:block;"></i>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</div>';
            return;
        }

        items.forEach(item => {
            const costText = item.cost ? item.cost.toLocaleString() + ' ‡∏ø' : '-';
            const sellText = item.sellPrice ? item.sellPrice.toLocaleString() + ' ‡∏ø' : '-';

            const card = document.createElement('div');
            card.className = 'item-card';
            card.innerHTML = `
                <div style="margin-bottom: 10px;">
                    <h4 class="item-title">${item.name}</h4>
                    <div>
                        <span class="item-model"><i class="fas fa-car"></i> ${item.model}</span>
                        <span class="item-category">${item.category || ''}</span>
                    </div>
                </div>
                
                <div class="price-grid">
                    <div class="price-box">
                        <span class="price-label"><i class="fas fa-coins"></i> ‡∏ó‡∏∏‡∏ô‡∏î‡∏¥‡∏ö (‡∏´‡πâ‡∏≤‡∏°‡∏ö‡∏≠‡∏Å)</span>
                        <span class="cost-price">${costText}</span>
                    </div>
                    <div class="price-box" style="background: #e8f5e9; border:1px solid #c3e6cb;">
                        <span class="price-label"><i class="fas fa-tag"></i> ‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤)</span>
                        <span class="sell-price">${sellText}</span>
                    </div>
                </div>

                <div class="item-footer">
                    <div>
                        <span style="display:block; margin-bottom:3px; font-weight:500; color:#444;"><i class="fas fa-info-circle"></i> ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ${item.status || '-'}</span>
                        <span style="font-size:11px; color:#aaa;">‡∏£‡∏´‡∏±‡∏™: ${item.id}</span>
                    </div>
                    <button class="btn-edit" onclick="openEditModal('${item.id}')">
                        <i class="fas fa-edit"></i> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
                    </button>
                </div>
            `;
            list.appendChild(card);
        });
    }

    // ================== ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡πä‡∏≠‡∏õ‡∏≠‡∏±‡∏õ ==================

    function openEditModal(id) {
        // ‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏≤‡∏Å ID
        const item = allItems.find(i => i.id === id);
        if(!item) return;

        // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏´‡∏¢‡∏≠‡∏î‡πÉ‡∏™‡πà‡∏ü‡∏≠‡∏£‡πå‡∏°
        document.getElementById('edit-id').value = item.id;
        document.getElementById('edit-category').value = item.category || '';
        document.getElementById('edit-name').value = item.name || '';
        document.getElementById('edit-model').value = item.model || '';
        document.getElementById('edit-cost').value = item.cost || '';
        document.getElementById('edit-priceType').value = item.priceType || '‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏ß‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏π‡πà';
        
        // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÅ‡∏õ‡∏•‡∏Å‡πÜ ‡πÉ‡∏´‡πâ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏õ‡πá‡∏ô default ‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô)
        const statusSelect = document.getElementById('edit-status');
        const options = Array.from(statusSelect.options).map(opt => opt.value);
        if(options.includes(item.status)) {
            statusSelect.value = item.status;
        } else {
            statusSelect.value = '‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏≥'; // ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á
        }

        // ‡πÇ‡∏ä‡∏ß‡πå‡∏õ‡πä‡∏≠‡∏õ‡∏≠‡∏±‡∏õ
        document.getElementById('editModal').style.display = 'block';
    }

    function closeModal() {
        document.getElementById('editModal').style.display = 'none';
    }

    // ‡∏õ‡∏¥‡∏î‡∏õ‡πä‡∏≠‡∏õ‡∏≠‡∏±‡∏õ‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏¥‡πâ‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏µ‡∏î‡∏≥
    window.onclick = function(event) {
        const modal = document.getElementById('editModal');
        if (event.target == modal) {
            closeModal();
        }
    }

    // ================== ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å & ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ==================

    function saveEdit() {
        const btnSave = document.getElementById('btnSave');
        btnSave.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...';
        btnSave.disabled = true;

        const payload = {
            action: "update",
            id: document.getElementById('edit-id').value,
            category: document.getElementById('edit-category').value,
            name: document.getElementById('edit-name').value,
            model: document.getElementById('edit-model').value,
            cost: document.getElementById('edit-cost').value,
            priceType: document.getElementById('edit-priceType').value,
            status: document.getElementById('edit-status').value
        };

        fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            body: JSON.stringify(payload),
            headers: { 'Content-Type': 'text/plain;charset=utf-8' }
        })
        .then(response => response.json())
        .then(data => {
            if(data.status === 'success') {
                alert("‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!");
                location.reload(); 
            } else {
                alert("‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + data.message);
                btnSave.innerHTML = '<i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å';
                btnSave.disabled = false;
            }
        })
        .catch(error => {
            alert("‚ùå ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á");
            btnSave.innerHTML = '<i class="fas fa-save"></i> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å';
            btnSave.disabled = false;
        });
    }

    function deleteItem() {
        const id = document.getElementById('edit-id').value;
        const name = document.getElementById('edit-name').value;
        
        // ‡∏ñ‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏ß‡∏£‡πå‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏ö
        if(!confirm(`‚ö†Ô∏è ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏ó‡∏¥‡πâ‡∏á‡∏ñ‡∏≤‡∏ß‡∏£?\n\n"${name}"\n\n(‡∏•‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏π‡πâ‡∏Ñ‡∏∑‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö)`)) {
            return;
        }

        const btnDelete = document.getElementById('btnDelete');
        btnDelete.innerHTML = '<i class="fas fa-spinner fa-spin"></i> ‡∏•‡∏ö...';
        btnDelete.disabled = true;

        fetch(GOOGLE_SCRIPT_URL, {
            method: 'POST',
            body: JSON.stringify({ action: "delete", id: id }),
            headers: { 'Content-Type': 'text/plain;charset=utf-8' }
        })
        .then(response => response.json())
        .then(data => {
            if(data.status === 'success') {
                alert("üóëÔ∏è ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!");
                location.reload(); 
            } else {
                alert("‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + data.message);
                btnDelete.innerHTML = '<i class="fas fa-trash"></i> ‡∏•‡∏ö';
                btnDelete.disabled = false;
            }
        })
        .catch(error => {
            alert("‚ùå ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á");
            btnDelete.innerHTML = '<i class="fas fa-trash"></i> ‡∏•‡∏ö';
            btnDelete.disabled = false;
        });
    }
</script>

</body>
</html>
